<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

<!-- Copyright 2013-2016 Mike Battersby -->

<Script file="Frame.lua" />

<Frame name="LiteBag_ThinGreenEdgeTemplate" inherits="ThinGoldEdgeTemplate" virtual="true">
    <Scripts>
        <OnLoad>
            for _, tex in ipairs({ self:GetRegions() }) do
                tex:SetVertexColor(0.0, 1.0, 1.0, 1.0)
            end
        </OnLoad>
    </Scripts>
</Frame>

<Frame name="LiteBagFrameTemplate"
       movable="true" resizable="true" clampedToScreen="true"
       enableMouse="true"
       frameStrata="HIGH" topLevel="true" hidden="true"
       inherits="ButtonFrameTemplate" virtual="true">

    <Size x="384" y="512" />

    <ResizeBounds>
        <minResize x="360" y="183" />
    </ResizeBounds>

    <Frames>

        <Button name="$parentDragButton">
            <Size x="0" y="20"/>
            <Anchors>
                <Anchor point="TOPLEFT"/>
                <Anchor point="TOPRIGHT"/>
            </Anchors>
            <Scripts>
                <OnLoad>
                    self:RegisterForClicks("LeftButton")
                </OnLoad>
                <OnMouseDown>
                    LiteBagFrame_StartMoving(self:GetParent())
                </OnMouseDown>
                <OnMouseUp>
                    LiteBagFrame_StopMoving(self:GetParent())
                </OnMouseUp>
                <OnHide>
                    LiteBagFrame_StopMoving(self:GetParent())
                </OnHide>
            </Scripts>
        </Button>

        <Button name="$parentResizeBottomRight">
            <Size x="16" y="16" />
            <Anchors>
                <Anchor point="BOTTOMRIGHT" x="-2" y="2" />
            </Anchors>
            <NormalTexture file="Interface\ChatFrame\UI-ChatIM-SizeGrabber-Up" setAllPoints="true" />
            <Scripts>
                <OnLoad function="RaiseFrameLevel" />
                <OnMouseDown>
                    local parent = self:GetParent()
                    if not parent.isBank or parent.selectedTab == 1 then
                        parent.sizing = true
                        parent:StartSizing("BOTTOMRIGHT")
                    end
                </OnMouseDown>
                <OnMouseUp>
                    local parent = self:GetParent()
                    if not parent.isBank or parent.selectedTab == 1 then
                        parent.sizing = nil
                        parent:StartSizing("BOTTOMRIGHT")
                        LiteBagFrame_StopSizing(parent)
                    end
                </OnMouseUp>
            </Scripts>
        </Button>

        <Frame name="$parentMoneyFrameBorder" inherits="ThinGoldEdgeTemplate">
            <Size x="170" y="21" />
            <Anchors>
                <Anchor point="BOTTOMRIGHT" x="-8" y="5" />
            </Anchors>
        </Frame>

        <Frame name="$parentMoneyFrame" parentKey="moneyFrame" inherits="SmallMoneyFrameTemplate">
            <Anchors>
                <Anchor point="BOTTOMRIGHT" x="-2" y="9" />
            </Anchors>
            <Scripts>
                <OnLoad>
                    SmallMoneyFrame_OnLoad(self)
                    MoneyFrame_SetType(self, "PLAYER")
                    MoneyFrame_SetMaxDisplayWidth(self, 168)
                </OnLoad>
            </Scripts>
        </Frame>

        <Frame name="$parentTokenFrameBorder" inherits="LiteBag_ThinGreenEdgeTemplate">
            <Size x="170" y="21" />
            <Anchors>
                <Anchor point="BOTTOMLEFT" x="8" y="5" />
            </Anchors>
        </Frame>

        <Frame name="$parentTokenFrame" inherits="LiteBagTokenFrameTemplate">
            <Anchors>
                <Anchor point="BOTTOMRIGHT" x="2" y="9" />
            </Anchors>
        </Frame>

        <!--
          BagButtons and ItemButtons inside slots for group hide/show
        -->

        <Frame name="$parentSlots" parentKey="slots" setAllPoints="true">
            <Frames>
                <Button name="$parentBagButton1" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="60" y="-31" />
                    </Anchors>
                </Button>

                <Button name="$parentBagButton2" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentBagButton1" relativePoint="RIGHT" x="4" />
                    </Anchors>
                </Button>

                <Button name="$parentBagButton3" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentBagButton2" relativePoint="RIGHT" x="4" />
                    </Anchors>
                </Button>

                <Button name="$parentBagButton4" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentBagButton3" relativePoint="RIGHT" x="4" />
                    </Anchors>
                </Button>

                <Button name="$parentBagButton5" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentBagButton4" relativePoint="RIGHT" x="4" />
                    </Anchors>
                </Button>

                <Button name="$parentBagButton6" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentBagButton5" relativePoint="RIGHT" x="4" />
                    </Anchors>
                </Button>

                <Button name="$parentBagButton7" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentBagButton6" relativePoint="RIGHT" x="4" />
                    </Anchors>
                </Button>

                <Button name="$parentBagButton8" parentArray="bagButtons" inherits="LiteBagBagButtonTemplate">
                    <Anchors>
                        <Anchor point="LEFT" relativeTo="$parentBagButton7" relativePoint="RIGHT" x="4" />
                    </Anchors>
                </Button>
            </Frames>
        </Frame>

        <Button name="$parentTab1" inherits="CharacterFrameTabButtonTemplate" parentKey="Tab1" id="1" text="BANK" hidden="true">
            <Anchors>
                <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" x="11" y="2" />
            </Anchors>
            <Scripts>
                <OnClick function="LiteBagFrame_TabOnClick" />
            </Scripts>
        </Button>

        <Button name="$parentTab2" inherits="CharacterFrameTabButtonTemplate" parentKey="Tab2" id="2" text="REAGENT_BANK" hidden="true">
            <Anchors>
                <Anchor point="LEFT" relativeTo="$parentTab1" relativePoint="RIGHT" x="-15" y="0" />
            </Anchors>
            <Scripts>
                <OnClick function="LiteBagFrame_TabOnClick" />
            </Scripts>
        </Button>

    </Frames>

    <Scripts>
        <OnLoad function="LiteBagFrame_OnLoad" />
        <OnEvent function="LiteBagFrame_OnEvent" />
        <OnHide function="LiteBagFrame_OnHide" />
        <OnShow function="LiteBagFrame_OnShow" />
        <OnSizeChanged function="LiteBagFrame_OnSizeChanged" />
    </Scripts>
</Frame>

</Ui>
